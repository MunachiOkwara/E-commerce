"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react"),r=(t=e)&&"object"==typeof t&&"default"in t?t.default:t;function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},u=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),u.forEach(function(e){n(t,e,r[e])})}return t}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(t,e){var r=t.items.findIndex(function(t){return t.sku===e.payload.sku});if(r>-1){var n=i(t.items);return n[r].quantity+=e.payload.quantity,n}return[].concat(i(t.items),[e.payload])},a=function(t,e){return t.items.reduce(function(t,r){if(r.sku===e.payload.sku){var n=r.quantity-e.payload.quantity;return n>0?[].concat(i(t),[u({},r,{quantity:n})]):i(t)}return[].concat(i(t),[r])},[])},c=function(t,e){return t.items.filter(function(t){return t.sku!==e.payload.sku})},s=function(t,e){switch(e.type){case"ADD_ITEM":return{items:o(t,e)};case"REMOVE_ITEM":return{items:a(t,e)};case"REMOVE_LINE_ITEM":return{items:c(t,e)};case"CLEAR_CART":return{items:[]}}},l=e.createContext();exports.CartProvider=function(t){var n,u=t.children,i=t.initialCart,o=function(t){if(Array.isArray(t))return t}(n=e.useReducer(s,{items:void 0===i?[]:i}))||function(t,e){var r=[],n=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),2!==r.length);n=!0);}catch(t){u=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(u)throw i}}return r}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),a=o[0],c=o[1],f=a.items.reduce(function(t,e){return t+e.quantity},0);return r.createElement(l.Provider,{value:{items:a.items,lineItemsCount:a.items.length,itemsCount:f,addItem:function(t){c({type:"ADD_ITEM",payload:{sku:t,quantity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}})},removeItem:function(t){c({type:"REMOVE_ITEM",payload:{sku:t,quantity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}})},removeLineItem:function(t){c({type:"REMOVE_LINE_ITEM",payload:{sku:t}})},clearCart:function(){c({type:"CLEAR_CART"})},isInCart:function(t){return a.items.some(function(e){return e.sku===t})}}},u)},exports.useCart=function(){return e.useContext(l)};
//# sourceMappingURL=use-cart.cjs.js.map
